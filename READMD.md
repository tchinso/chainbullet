# 모바일 탄막 슈팅 게임 (Mobile Vertical Bullet-Hell Shmup)

이 프로젝트는 외부 라이브러리 없이 순수 HTML5 Canvas와 JavaScript로 개발된 모바일 환경 최적화 세로형 탄막 슈팅 게임입니다. 3인 캐릭터 팀을 실시간으로 교체하며, 로그라이크(Roguelike) 방식의 버프를 선택하여 캐릭터를 성장시키는 재미를 특징으로 합니다.

## 목차

1.  [주요 특징](#1-주요-특징)
2.  [게임 실행 방법](#2-게임-실행-방법)
3.  [게임 플레이 가이드](#3-게임-플레이-가이드)
    -   [조작 방법](#조작-방법)
    -   [핵심 게임플레이 루프](#핵심-게임플레이-루프)
4.  [게임 시스템 상세 분석](#4-게임-시스템-상세-분석)
    -   [캐릭터 시스템](#캐릭터-시스템)
    -   [레벨 디자인 및 진행](#레벨-디자인-및-진행)
    -   [적(Enemy) 종류와 패턴](#적enemy-종류와-패턴)
    -   [로그라이크 버프 시스템](#로그라이크-버프-시스템)
5.  [주요 코드 변경점 및 개선 사항](#5-주요-코드-변경점-및-개선-사항)
6.  [향후 개발 계획](#6-향후-개발-계획)

## 1. 주요 특징

*   **3인 1조 팀 시스템**: 탱커/힐러, 딜러, CC/디버퍼 3명의 캐릭터를 전투 중 실시간으로 교체하며 전략적으로 활용.
*   **로그라이크 성장**: 레벨 클리어 시 무작위로 제시되는 3개의 버프 중 하나를 선택하여 매번 다른 방식으로 캐릭터 팀을 강화.
*   **자동 조준 시스템**: 공격 버튼을 누르고 있는 동안 가장 가까운 적을 자동으로 조준하여 모바일 환경의 조작 피로도를 감소.
*   **20단계의 레벨 구성**: 5개의 레벨마다 등장하는 개성 있는 보스와 최종 보스.
*   **순수 JavaScript 엔진**: 외부 라이브러리 의존성 없이 직접 구현한 게임 루프, 렌더링, 충돌 감지 로직.
*   **반응형 UI**: HTML/CSS를 활용한 HUD 오버레이로, 다양한 모바일 기기 화면에 최적화.

## 2. 게임 실행 방법

이 프로젝트는 별도의 빌드 과정이 필요 없습니다.

1.  프로젝트 파일을 다운로드합니다.
2.  로컬 웹 서버 환경에서 `index.html` 파일을 엽니다. (VS Code의 `Live Server` 확장 프로그램 사용을 권장합니다.)
3.  또는, `index.html` 파일을 웹 브라우저에서 직접 열어도 대부분의 기능이 정상 작동합니다.

## 3. 게임 플레이 가이드

### 조작 방법

| 입력 | 모바일 (터치) | PC (키보드) - 디버그용 |
| :--- | :--- | :--- |
| **이동** | 화면 왼쪽 하단 **가상 조이스틱** | `↑` `↓` `←` `→` 또는 `W` `A` `S` `D` |
| **공격** | 화면 오른쪽 하단 **'공격' 버튼** 누르기 | `J` 키 누르기 |
| **스킬 사용** | **'스킬' 버튼** 터치 | `K` 키 |
| **캐릭터 교대** | 화면 왼쪽 하단 **캐릭터 초상화** 터치 | `1`, `2`, `3` 키 |
| **일시정지** | 화면 우측 상단 **'일시정지' 버튼** | `Esc` 키 |

### 핵심 게임플레이 루프

1.  **전투 및 생존**: 몰려오는 적들의 공격을 피하고, 공격 버튼을 눌러 적들을 처치합니다.
2.  **레벨 클리어**:
    *   **일반 레벨**: 정해진 시간 동안 생존 후 남은 적을 모두 처치하면 클리어.
    *   **보스 레벨**: 보스를 처치 후 남은 적을 모두 처치하면 클리어.
3.  **버프 선택**: 레벨 클리어 후 제시되는 3개의 버프 중 하나를 선택하여 팀을 영구적으로 강화합니다.
4.  **성장 및 반복**: 더 강력해진 팀으로 다음 레벨에 도전하며, 최종 20레벨 보스를 격파하는 것이 목표입니다.

## 4. 게임 시스템 상세 분석

### 캐릭터 시스템

#### 1. 탱커/힐러
- **역할**: 팀의 방패이자 생존의 핵심. 높은 체력과 방어/회복 스킬.
- **기본 공격**: 샷건 형태. 4발의 탄환을 넓게 퍼뜨려 발사 (근접 시 강력).
- **능력치**: **체력 140** (최상), **이동속도 155** (최하), **공격력 9x4발**
- **스킬: `팀 힐+가드`** (TP 100, 쿨타임 14초)
  - **효과**: 모든 팀원의 최대 체력 25%를 즉시 회복시키고, 2.5초간 무적 상태 부여.

#### 2. 딜러 (DPS)
- **역할**: 팀의 주포. 압도적인 화력으로 적을 빠르게 섬멸.
- **기본 공격**: 기관총 형태. 초고속으로 직선 탄환 발사.
- **능력치**: **체력 90** (최하), **이동속도 180** (최상), **공격력 7**
- **스킬: `버스트 사격`** (TP 100, 쿨타임 10초)
  - **효과**: 3초간 자신의 공격 속도가 3배로 폭증.

#### 3. CC/디버퍼
- **역할**: 전장 통제. 적의 움직임을 둔화시켜 아군이 싸울 환경을 조성.
- **기본 공격**: 소총 형태. 준수한 속도의 단일 탄환 발사.
- **능력치**: **체력 110** (중간), **이동속도 165** (중간), **공격력 6**
- **스킬: `감속 필드`** (TP 100, 쿨타임 12초)
  - **효과**: 현재 위치에 5초간 유지되는 거대한 감속 지대를 생성. 필드 내 적의 이동 속도 55% 감소.

---

### 레벨 디자인 및 진행

| 구분 | 일반 레벨 | 보스 레벨 (5, 10, 15, 20) |
| :--- | :--- | :--- |
| **클리어 조건** | 시간 생존 + 남은 적 소탕 | 보스 처치 + 남은 적 소탕 |
| **적 등장 속도** | 시작 시 0.9초/마리, 종료 시 0.5초/마리 | 1.2초/마리 (일반 몬스터) |
| **레벨 시작 회복**| 최대 체력의 **20%** 회복 | 최대 체력의 **30%** 회복 |

*   **적 스케일링**: 레벨이 오를수록 모든 적의 체력(`+5/lv`), 이동 속도(`+6/lv`), 위협적인 적(슈터, 자폭병)의 등장 비율이 점진적으로 증가합니다.

---

### 적(Enemy) 종류와 패턴

*   **추격 몬스터**: 플레이어를 향해 무작정 돌진.
*   **원거리 슈터**: 일정 거리를 유지하며 플레이어에게 탄환 발사.
*   **자폭 몬스터**: 플레이어에게 근접 시 강력한 폭발을 일으킴 (피해량 24).
*   **보스**:
    *   **중간 보스 (5, 10, 15 레벨)**: 3가지 패턴(부채꼴 탄, 360도 링 탄, 나선 탄)을 순환 사용.
    *   **최종 보스 (20 레벨)**: 중간 보스 패턴을 강화하고, 예측 불가능한 `혼돈의 링 탄`과 피하기 어려운 `고속 조준 점사`를 동시에 사용하는 고유 패턴 보유.

---

### 로그라이크 버프 시스템

레벨 클리어 시 3개 중 1개를 선택하여 영구 적용됩니다.

| 버프 이름 | 설명 | 중첩 방식 |
| :--- | :--- | :--- |
| **공격력 +20%** | 모든 캐릭터의 공격력 20% 증가 | **곱연산** (중첩 가능) |
| **최대 HP +30%** | 모든 캐릭터의 최대 체력 30% 증가 및 즉시 회복 | **곱연산** (중첩 가능) |
| **이동속도 +10%** | 이동속도 10% 증가 | **곱연산** (중첩 가능) |
| **TP 획득 +50%** | 적중/처치 시 TP 획득량 50% 증가 | **곱연산** (중첩 가능) |
| **스킬 쿨다운 -30%** | 스킬 재사용 대기시간 30% 감소 | **곱연산** (1회 획득 제한) |
| **탄환 관통** | 탄환이 1회 관통 | **합연산** (1회 획득 제한) |
| **치명타 +15%** | 치명타 확률 15%p 증가 | **합연산** (1회 획득 제한) |

## 5. 주요 코드 변경점 및 개선 사항

이 프로젝트는 초기 버전에서 다음과 같은 중요한 개선 작업을 거쳤습니다.

*   `[FIX]` **'좀비 부활 버그' 해결**: 사망한 캐릭터가 벤치에서 자동 회복(`regen`)되어 부활하던 치명적인 버그를 수정. 이제 정상적으로 게임오버가 됩니다.
*   `[IMPROVE]` **플레이어 체력 시인성 강화**: 현재 조종 중인 캐릭터 주위에 남은 체력에 따라 색상(녹색→노란색→붉은색)이 변하는 **원형 HP 링**을 추가하여 직관성을 극대화했습니다.
*   `[BALANCE]` **레벨 진입 시 체력 회복량 조정**: 일반 레벨 진입 시 20%, 어려운 보스 레벨 진입 시 30%의 체력을 회복하도록 차등을 두어 난이도 곡선을 완화했습니다.
*   `[UX]` **캐릭터 교대 UI 위치 최적화**: 화면 하단 중앙에 있던 캐릭터 초상화를 조이스틱 조작에 방해되지 않는 왼쪽 아래로 이동시켜 편의성을 높였습니다.

## 6. 향후 개발 계획

*   **사운드 추가**: 배경음악(BGM) 및 각종 효과음(SFX)을 추가하여 게임의 몰입감과 타격감 향상.
*   **그래픽 리소스 적용**: 현재의 단색 도형들을 실제 캐릭터 및 적 스프라이트, 이펙트 애니메이션으로 교체.
*   **콘텐츠 확장**: 새로운 캐릭터, 적, 보스 패턴 및 추가 버프 종류 도입.
*   **UI/UX 폴리싱**: 스킬 쿨타임 표시, 버프 아이콘 이미지화 등 사용자 경험 개선.